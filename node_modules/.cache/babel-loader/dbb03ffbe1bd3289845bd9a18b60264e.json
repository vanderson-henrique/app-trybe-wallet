{"ast":null,"code":"import _defineProperty from\"/home/vanderson/Trybe/repo_projetos/trybe-wallet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/vanderson/Trybe/repo_projetos/trybe-wallet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/vanderson/Trybe/repo_projetos/trybe-wallet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/vanderson/Trybe/repo_projetos/trybe-wallet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/vanderson/Trybe/repo_projetos/trybe-wallet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/vanderson/Trybe/repo_projetos/trybe-wallet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{connect}from'react-redux';import{loginAction}from'../actions';var Login=/*#__PURE__*/function(_React$Component){_inherits(Login,_React$Component);var _super=_createSuper(Login);function Login(props){var _this;_classCallCheck(this,Login);_this=_super.call(this,props);_this.changeValue=_this.changeValue.bind(_assertThisInitialized(_this));_this.clickLogin=_this.clickLogin.bind(_assertThisInitialized(_this));_this.verifyFields=_this.verifyFields.bind(_assertThisInitialized(_this));_this.state={email:'',password:'',isDisabled:true};return _this;}_createClass(Login,[{key:\"changeValue\",value:function changeValue(_ref){var _this2=this;var target=_ref.target;var name=target.name,value=target.value;this.setState(_defineProperty({},name,value),function(){return _this2.verifyFields();});}},{key:\"clickLogin\",value:function clickLogin(){var _this$props=this.props,login=_this$props.login,history=_this$props.history;var email=this.state.email;login(email);return history.push('/carteira');}// Referência desta função para validação de email:\n// https://www.horadecodar.com.br/2020/09/07/expressao-regular-para-validar-e-mail-javascript-regex/\n},{key:\"validarEmail\",value:function validarEmail(email){var re=/\\S+@\\S+\\.\\S+/;return re.test(email);}},{key:\"verifyFields\",value:function verifyFields(){var _this$state=this.state,email=_this$state.email,password=_this$state.password;var numberCharacteres=5;if(password.length>numberCharacteres&&this.validarEmail(email)){this.setState({isDisabled:false});}}},{key:\"render\",value:function render(){var _this$state2=this.state,email=_this$state2.email,password=_this$state2.password,isDisabled=_this$state2.isDisabled;// const numberCharacteres = 5;\n// const validate = password.length > numberCharacteres && this.validarEmail(email);\nreturn/*#__PURE__*/React.createElement(\"div\",{className:\"container-login\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Trybe Wallet\"),/*#__PURE__*/React.createElement(\"form\",{className:\"form form-login\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"email\"},\"Email\",/*#__PURE__*/React.createElement(\"input\",{\"data-testid\":\"email-input\",placeholder:\"Insira seu e-mail\",id:\"email\",name:\"email\",type:\"text\",value:email,onChange:this.changeValue})),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"password\"},\"Password\",/*#__PURE__*/React.createElement(\"input\",{\"data-testid\":\"password-input\",placeholder:\"Insira sua senha\",id:\"password\",name:\"password\",type:\"password\",value:password,onChange:this.changeValue})),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",disabled:isDisabled,onClick:this.clickLogin},\"Entrar\")));}}]);return Login;}(React.Component);var mapDispatchToProps=function mapDispatchToProps(dispatch){return{login:function login(email){return dispatch(loginAction(email));}};};export default connect(null,mapDispatchToProps)(Login);","map":{"version":3,"sources":["/home/vanderson/Trybe/repo_projetos/trybe-wallet/src/pages/Login.js"],"names":["React","connect","loginAction","Login","props","changeValue","bind","clickLogin","verifyFields","state","email","password","isDisabled","target","name","value","setState","login","history","push","re","test","numberCharacteres","length","validarEmail","Component","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { loginAction } from '../actions';\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.changeValue = this.changeValue.bind(this);\n    this.clickLogin = this.clickLogin.bind(this);\n    this.verifyFields = this.verifyFields.bind(this);\n\n    this.state = {\n      email: '',\n      password: '',\n      isDisabled: true,\n    };\n  }\n\n  changeValue({ target }) {\n    const { name, value } = target;\n    this.setState({\n      [name]: value,\n    }, () => this.verifyFields());\n  }\n\n  clickLogin() {\n    const { login, history } = this.props;\n    const { email } = this.state;\n    login(email);\n    return history.push('/carteira');\n  }\n\n  // Referência desta função para validação de email:\n  // https://www.horadecodar.com.br/2020/09/07/expressao-regular-para-validar-e-mail-javascript-regex/\n  validarEmail(email) {\n    const re = /\\S+@\\S+\\.\\S+/;\n    return re.test(email);\n  }\n\n  verifyFields() {\n    const { email, password } = this.state;\n    const numberCharacteres = 5;\n    if (password.length > numberCharacteres && this.validarEmail(email)) {\n      this.setState({\n        isDisabled: false,\n      });\n    }\n  }\n\n  render() {\n    const { email, password, isDisabled } = this.state;\n    // const numberCharacteres = 5;\n    // const validate = password.length > numberCharacteres && this.validarEmail(email);\n    return (\n      <div className=\"container-login\">\n        <h1>Trybe Wallet</h1>\n        <form className=\"form form-login\">\n          <label htmlFor=\"email\">\n            Email\n            <input\n              data-testid=\"email-input\"\n              placeholder=\"Insira seu e-mail\"\n              id=\"email\"\n              name=\"email\"\n              type=\"text\"\n              value={ email }\n              onChange={ this.changeValue }\n            />\n          </label>\n          <label htmlFor=\"password\">\n            Password\n            <input\n              data-testid=\"password-input\"\n              placeholder=\"Insira sua senha\"\n              id=\"password\"\n              name=\"password\"\n              type=\"password\"\n              value={ password }\n              onChange={ this.changeValue }\n            />\n          </label>\n          <button type=\"button\" disabled={ isDisabled } onClick={ this.clickLogin }>\n            Entrar\n          </button>\n        </form>\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n  login: (email) => dispatch(loginAction(email)),\n});\n\nLogin.propTypes = {\n  login: PropTypes.func.isRequired,\n  history: PropTypes.shape({\n    push: PropTypes.func.isRequired,\n  }).isRequired,\n};\n\nexport default connect(null, mapDispatchToProps)(Login);\n"]},"metadata":{},"sourceType":"module"}